#!/bin/sh
#
# Protip: I got these commands by running arandr modified to print out the
# xrandr commands it runs :-)
#
# pactl output names from switching with pavucontrol and "pactl list cards | grep 'Active Profile:'"
#
#     Active Profile: output:analog-stereo+input:analog-stereo
#     Active Profile: output:hdmi-stereo-extra1

set -euC

case "${1:-}" in
	both)
		xrandr \
			 --output eDP1  --mode 1920x1080 --pos 0x0 --primary \
			 --output HDMI2 --mode 1920x1080 --pos 0x0
		pactl set-card-profile 0 output:hdmi-stereo-extra1
		;;
	hdmi)
		xrandr \
			--output HDMI2 --mode 1920x1080 --pos 0x0 --primary \
			--output eDP1  --off
		pactl set-card-profile 0 output:hdmi-stereo-extra1
		;;
	laptop)
		xrandr \
			--output eDP1  --mode 1920x1080 --pos 0x0 --primary \
			--output HDMI2 --off
		pactl set-card-profile 0 output:analog-stereo+input:analog-stereo
		;;
	*)
		>&2 echo "${0##*/}: unknown screen; use 'laptop', 'hdmi', or 'both'"
		exit 1
esac
